<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>StoryShelf - What should I read next?</title>

    <!-- PWA Configuration -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="StoryShelf">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#667eea">

    <!-- Icons -->
    <link rel="apple-touch-icon" href="icon.jpg">
    <link rel="icon" href="icon.jpg">

    <!-- Manifest -->
    <link rel="manifest" href="manifest.json">

    <!-- Stylesheets -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <h1>üìö StoryShelf</h1>
            <p>What should I read next?</p>
        </header>

        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Picker Tab Content -->
            <div id="picker-tab" class="tab-content active">
                <div class="picker-section">
                    <label for="book-list" class="input-label">Enter your to-be-read list (one book per line):</label>
                    <textarea
                        id="book-list"
                        class="book-input"
                        placeholder="The Seven Husbands of Evelyn Hugo by Taylor Jenkins Reid
Project Hail Mary by Andy Weir
Dune by Frank Herbert
The Midnight Library by Matt Haig
Klara and the Sun by Kazuo Ishiguro"
                        rows="8"
                        aria-describedby="input-help"
                    ></textarea>
                    <p id="input-help" class="input-help">Add at least 3 books to get personalized recommendations</p>

                    <button id="pick-books" class="primary-button">Pick My Next Books</button>

                    <!-- Error Display -->
                    <div id="error-message" class="error-message hidden" role="alert"></div>

                    <!-- Loading Display -->
                    <div id="loading-message" class="loading-message hidden">
                        <div class="loading-spinner"></div>
                        <p>Selecting your perfect reads‚Ä¶</p>
                    </div>

                    <!-- Results Display -->
                    <div id="results-section" class="results-section hidden">
                        <h2>Your Reading Recommendations</h2>

                        <div class="book-pick next-read">
                            <div class="pick-header">
                                <span class="pick-icon">üéØ</span>
                                <h3>Next Read</h3>
                            </div>
                            <p id="next-read-book" class="book-title"></p>
                        </div>

                        <div class="book-pick backup-choice">
                            <div class="pick-header">
                                <span class="pick-icon">üîÑ</span>
                                <h3>Backup Choice</h3>
                            </div>
                            <p id="backup-book" class="book-title"></p>
                        </div>

                        <div class="book-pick alternative-pick">
                            <div class="pick-header">
                                <span class="pick-icon">‚ú®</span>
                                <h3>Alternative Pick</h3>
                            </div>
                            <p id="alternative-book" class="book-title"></p>
                        </div>

                        <button id="pick-again" class="secondary-button">Pick Again</button>
                    </div>
                </div>
            </div>

            <!-- About Tab Content -->
            <div id="about-tab" class="tab-content">
                <div class="about-section">
                    <h2>About StoryShelf</h2>
                    <p>StoryShelf helps you decide what to read next by randomly selecting books from your to-be-read (TBR) list. Never feel overwhelmed by choice again!</p>

                    <h3>How it works:</h3>
                    <ol>
                        <li>Add your book list (one book per line)</li>
                        <li>Tap "Pick My Next Books"</li>
                        <li>Get three prioritized recommendations</li>
                        <li>Start reading and enjoy!</li>
                    </ol>

                    <h3>Features:</h3>
                    <ul>
                        <li>üì± Works offline after installation</li>
                        <li>üîÑ Smart random selection (no duplicates)</li>
                        <li>üéØ Prioritized recommendations</li>
                        <li>üìö Book-lover friendly design</li>
                    </ul>

                    <div class="attribution">
                        <p><strong>Made by Claude</strong></p>
                        <p><a href="https://github.com/anthropics/claude-code" target="_blank" rel="noopener">View Source Code</a></p>
                    </div>
                </div>
            </div>
        </main>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <button id="picker-nav" class="nav-button active" data-tab="picker-tab">
                <span class="nav-icon">üìö</span>
                <span class="nav-label">Picker</span>
            </button>
            <button id="about-nav" class="nav-button" data-tab="about-tab">
                <span class="nav-icon">‚ÑπÔ∏è</span>
                <span class="nav-label">About</span>
            </button>
        </nav>
    </div>

    <!-- JavaScript -->
    <script src="script.js"></script>

    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('./sw.js')
                    .then(function(registration) {
                        console.log('ServiceWorker registration successful');
                    }, function(err) {
                        console.log('ServiceWorker registration failed');
                    });
            });
        }
    </script>
</body>
</html>