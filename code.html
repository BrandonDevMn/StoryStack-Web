<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Random Line Picker</title>
    <style>
        /* Base styles and reset */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

```
    body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        line-height: 1.6;
        color: #333;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
    }

    /* Main container */
    .container {
        max-width: 600px;
        margin: 0 auto;
        background: white;
        border-radius: 16px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        overflow: hidden;
    }

    /* Header */
    .header {
        background: #4CAF50;
        color: white;
        padding: 24px;
        text-align: center;
    }

    .header h1 {
        font-size: 28px;
        font-weight: 600;
        margin-bottom: 8px;
    }

    .header p {
        opacity: 0.9;
        font-size: 16px;
    }

    /* Input section */
    .input-section {
        padding: 24px;
    }

    .input-label {
        display: block;
        margin-bottom: 12px;
        font-weight: 600;
        color: #555;
        font-size: 16px;
    }

    .text-input {
        width: 100%;
        height: 200px;
        padding: 16px;
        border: 2px solid #ddd;
        border-radius: 12px;
        font-size: 16px;
        font-family: inherit;
        resize: vertical;
        outline: none;
        transition: border-color 0.3s ease;
    }

    .text-input:focus {
        border-color: #4CAF50;
        box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
    }

    .text-input::placeholder {
        color: #999;
    }

    /* Buttons */
    .btn {
        display: block;
        width: 100%;
        padding: 16px 24px;
        font-size: 18px;
        font-weight: 600;
        border: none;
        border-radius: 12px;
        cursor: pointer;
        transition: all 0.3s ease;
        min-height: 56px;
        touch-action: manipulation;
    }

    .btn-primary {
        background: #4CAF50;
        color: white;
        margin-top: 20px;
    }

    .btn-primary:hover, .btn-primary:active {
        background: #45a049;
        transform: translateY(-1px);
    }

    .btn-secondary {
        background: #2196F3;
        color: white;
        margin-top: 16px;
    }

    .btn-secondary:hover, .btn-secondary:active {
        background: #1976D2;
        transform: translateY(-1px);
    }

    .btn:disabled {
        background: #ccc;
        cursor: not-allowed;
        transform: none;
    }

    /* Results section */
    .results-section {
        padding: 24px;
        background: #f8f9fa;
        border-top: 1px solid #eee;
        display: none;
    }

    .results-section.show {
        display: block;
    }

    .results-title {
        font-size: 20px;
        font-weight: 600;
        margin-bottom: 20px;
        text-align: center;
        color: #333;
    }

    .winner-item {
        background: white;
        padding: 16px 20px;
        margin-bottom: 12px;
        border-radius: 12px;
        border-left: 5px solid;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .winner-item:last-child {
        margin-bottom: 0;
    }

    .winner-item.first {
        border-left-color: #FFD700;
        background: linear-gradient(135deg, #fff9c4 0%, #ffffff 100%);
    }

    .winner-item.second {
        border-left-color: #C0C0C0;
        background: linear-gradient(135deg, #f0f0f0 0%, #ffffff 100%);
    }

    .winner-item.third {
        border-left-color: #CD7F32;
        background: linear-gradient(135deg, #ffe4d1 0%, #ffffff 100%);
    }

    .winner-place {
        font-weight: 600;
        font-size: 14px;
        color: #666;
        margin-bottom: 4px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    .winner-text {
        font-size: 16px;
        color: #333;
        word-wrap: break-word;
    }

    /* Error messages */
    .error-message {
        background: #ffebee;
        color: #c62828;
        padding: 16px;
        border-radius: 8px;
        margin-top: 16px;
        border: 1px solid #ffcdd2;
        display: none;
    }

    .error-message.show {
        display: block;
    }

    /* Loading state */
    .loading {
        opacity: 0.7;
        pointer-events: none;
    }

    /* Responsive design */
    @media (max-width: 480px) {
        body {
            padding: 12px;
        }

        .header {
            padding: 20px 16px;
        }

        .header h1 {
            font-size: 24px;
        }

        .input-section, .results-section {
            padding: 20px 16px;
        }

        .text-input {
            height: 180px;
        }
    }

    /* Landscape orientation adjustments */
    @media (orientation: landscape) and (max-height: 500px) {
        .text-input {
            height: 120px;
        }
    }
</style>
```

</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üé≤ Random Line Picker</h1>
            <p>Enter your list and pick 3 random winners!</p>
        </div>

```
    <!-- Input Section -->
    <div class="input-section">
        <label for="textInput" class="input-label">
            Enter your list (one item per line):
        </label>
        <textarea 
            id="textInput" 
            class="text-input" 
            placeholder="John Smith&#10;Jane Doe&#10;Bob Johnson&#10;Sarah Wilson&#10;Mike Davis&#10;..."></textarea>
        
        <button id="pickButton" class="btn btn-primary" onclick="pickWinners()">
            üéØ Pick Winners
        </button>

        <div id="errorMessage" class="error-message"></div>
    </div>

    <!-- Results Section -->
    <div id="resultsSection" class="results-section">
        <h2 class="results-title">üèÜ Winners</h2>
        
        <div class="winner-item first">
            <div class="winner-place">ü•á Winner (1st Place)</div>
            <div id="firstPlace" class="winner-text"></div>
        </div>

        <div class="winner-item second">
            <div class="winner-place">ü•à 2nd Place</div>
            <div id="secondPlace" class="winner-text"></div>
        </div>

        <div class="winner-item third">
            <div class="winner-place">ü•â 3rd Place</div>
            <div id="thirdPlace" class="winner-text"></div>
        </div>

        <button id="rerollButton" class="btn btn-secondary" onclick="reroll()">
            üîÑ Reroll Winners
        </button>
    </div>
</div>

<script>
    // Global variables to store processed lines
    let processedLines = [];

    /**
     * Process the input text and split it into valid lines
     */
    function processText(text) {
        if (!text || text.trim() === '') {
            return [];
        }

        // Split on newlines and filter out empty/whitespace-only lines
        const lines = text.split('\n')
            .map(line => line.trim())
            .filter(line => line.length > 0);

        return lines;
    }

    /**
     * Generate random winners from the processed lines
     */
    function selectWinners(lines) {
        if (lines.length < 3) {
            return null;
        }

        const winners = [];
        const usedIndices = new Set();

        // Select 3 unique random lines
        while (winners.length < 3) {
            const randomIndex = Math.floor(Math.random() * lines.length);
            
            if (!usedIndices.has(randomIndex)) {
                usedIndices.add(randomIndex);
                winners.push(lines[randomIndex]);
            }
        }

        return winners;
    }

    /**
     * Display the selected winners in the results section
     */
    function displayResults(winners) {
        document.getElementById('firstPlace').textContent = winners[0];
        document.getElementById('secondPlace').textContent = winners[1];
        document.getElementById('thirdPlace').textContent = winners[2];

        // Show results section
        document.getElementById('resultsSection').classList.add('show');
        
        // Scroll to results on mobile
        setTimeout(() => {
            document.getElementById('resultsSection').scrollIntoView({ 
                behavior: 'smooth',
                block: 'start'
            });
        }, 100);
    }

    /**
     * Show error message to user
     */
    function showError(message) {
        const errorElement = document.getElementById('errorMessage');
        errorElement.textContent = message;
        errorElement.classList.add('show');
    }

    /**
     * Hide error message
     */
    function hideError() {
        const errorElement = document.getElementById('errorMessage');
        errorElement.classList.remove('show');
    }

    /**
     * Main function to pick winners from input text
     */
    function pickWinners() {
        hideError();
        
        const textInput = document.getElementById('textInput');
        const inputText = textInput.value;

        // Add loading state
        document.body.classList.add('loading');

        // Simulate brief processing time for better UX
        setTimeout(() => {
            // Process the input text
            processedLines = processText(inputText);

            // Validate input
            if (processedLines.length === 0) {
                showError('Please enter some text with at least one line.');
                document.body.classList.remove('loading');
                return;
            }

            if (processedLines.length < 3) {
                showError(`You need at least 3 lines to pick winners. You have ${processedLines.length} line(s).`);
                document.body.classList.remove('loading');
                return;
            }

            // Select winners
            const winners = selectWinners(processedLines);
            
            if (winners) {
                displayResults(winners);
            } else {
                showError('Something went wrong while selecting winners. Please try again.');
            }

            document.body.classList.remove('loading');
        }, 200);
    }

    /**
     * Reroll winners using the same processed lines
     */
    function reroll() {
        if (processedLines.length < 3) {
            showError('No valid data to reroll. Please enter new text.');
            return;
        }

        hideError();
        
        // Add brief loading state
        document.body.classList.add('loading');
        
        setTimeout(() => {
            const winners = selectWinners(processedLines);
            
            if (winners) {
                displayResults(winners);
            } else {
                showError('Something went wrong while rerolling. Please try again.');
            }

            document.body.classList.remove('loading');
        }, 150);
    }

    // Handle Enter key in textarea (optional convenience feature)
    document.getElementById('textInput').addEventListener('keydown', function(event) {
        // Ctrl/Cmd + Enter to trigger pick winners
        if ((event.ctrlKey || event.metaKey) && event.key === 'Enter') {
            event.preventDefault();
            pickWinners();
        }
    });

    // Auto-hide error when user starts typing
    document.getElementById('textInput').addEventListener('input', function() {
        hideError();
    });
</script>
```

</body>
</html>